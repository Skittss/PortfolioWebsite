{"version":3,"sources":["projects/homeTemplate.jsx","projects/tableofcontents.jsx","projects/projectPage.jsx","content/projects/FFTOcean/sines.png","content/projects/FFTOcean/hkt.png","content/projects/FFTOcean/butterfly.png","content/projects/FFTOcean/normals.png","content/projects/FFTOcean/waves.mp4","projects/FFTOcean/home.jsx"],"names":["HomeTemplate","title","githubURL","projectRoute","projectLink","thumb","loc","useLocation","pathname","useEffect","window","scrollTo","style","marginTop","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","height","zIndex","className","position","width","top","left","transform","id","display","padding","undefined","placement","href","target","to","borderTopWidth","borderTopColor","opacity","getNestedHeadings","headingElements","headingAttention","filter","e","l","nodeName","ki","headingLst","map","key","innerHTML","level","parseInt","slice","result","indices","levels","forEach","o","index","findIndex","push","length","Object","assign","children","TableOfContents","nestedHeadings","useState","setNestedHeadings","Array","from","document","querySelectorAll","newNestedHeadings","useHeadingsData","navHeight","setNavHeight","navbar","getElementById","console","log","offsetHeight","useNavHeight","paddingBottom","items","maxHeight","overflow","targetOffset","onClick","preventDefault","useBreakpoint","Grid","ProjectPage","footer","screens","gutter","xs","lg","marginRight","marginLeft","justifyContent","marginBottom","Home","Meta","textAlign","objectFit","autoPlay","loop","muted","src","waves","type","sines","fallback","fontSize","paddingLeft","paddingRight","maxWidth","margin","hkt","minWidth","butterfly","normals","flex"],"mappings":"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","file":"static/js/15.abaccaa4.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Divider, Tooltip, Image } from 'antd';\r\nimport { GithubOutlined, SendOutlined } from '@ant-design/icons';\r\n\r\nimport \"../css/projectpage.scss\";\r\n\r\nconst HomeTemplate = ({title, githubURL, projectRoute, projectLink, thumb}) => {\r\n    const loc = useLocation().pathname;\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n      }, [])\r\n\r\n    return (\r\n        <>\r\n        <div style={{\r\n            marginTop: \"-3rem\",\r\n            backgroundImage: `url(${thumb})`,\r\n            backgroundPosition: 'center',\r\n            backgroundSize: 'cover',\r\n            backgroundRepeat: 'no-repeat',\r\n            height: '100vh',\r\n            zIndex: -1,\r\n        }} />\r\n        <div className=\"project-home-wrapper\" style={{position: \"absolute\", width: \"100%\", top: \"101vh\", left: \"0px\", transform: \"translate(0, -100%)\"}}>\r\n            <header className=\"home-header\">\r\n                <h1 id=\"title\" style={{display: 'inline-block'}}>{title}</h1>\r\n                <span style={{padding: \"0 1em\", display: 'inline-block'}}>\r\n                    {githubURL != undefined ? (\r\n                        <Tooltip title=\"View on Github\" placement=\"bottom\">\r\n                            <a href={githubURL} target=\"_blank\">\r\n                                <GithubOutlined className=\"title-icon\"/>\r\n                            </a>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                    {projectRoute != undefined  ? (\r\n                        <Tooltip title=\"View project\" placement=\"bottom\">\r\n                            <Link to={loc + projectRoute}>\r\n                                <SendOutlined className=\"title-icon\"/>\r\n                            </Link>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                    {projectLink != undefined  ? (\r\n                        <Tooltip title=\"View project\" placement=\"bottom\">\r\n                            <a href={projectLink} target=\"_blank\">\r\n                                <SendOutlined className=\"title-icon\"/>\r\n                            </a>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                </span>\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            </header>\r\n            <div style={{height: \"8em\"}}>\r\n\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default HomeTemplate;","\r\nimport { Breadcrumb, Anchor } from 'antd';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst useHeadingsData = () => {\r\n\tconst [nestedHeadings, setNestedHeadings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst headingElements = Array.from(\r\n\t\t\tdocument.querySelectorAll(\"h1, h2, h3\")\r\n\t\t);\r\n\r\n\t\t// Created a list of headings, with H3s nested\r\n\t\tconst newNestedHeadings = getNestedHeadings(headingElements);\r\n\r\n\t\tsetNestedHeadings(newNestedHeadings);\r\n\t}, []);\r\n\r\n\treturn { nestedHeadings };\r\n};\r\n\r\nconst getNestedHeadings = (headingElements) => {\r\n\tvar headingAttention = headingElements.filter(e => {\r\n\t\tlet l = e.nodeName;\r\n\t\treturn e.id !== \"title\" && (l === \"H1\" || l === \"H2\" || l === \"H3\");\r\n\t})\r\n\r\n\tlet ki = -1;\r\n\tvar headingLst = headingAttention.map(e => {\r\n\t\tki++;\r\n\t\treturn ({ key: `contents_${ki}`, href: `#${e.id}`, title: e.innerHTML, level: parseInt(e.nodeName.slice(-1)) })\r\n\t})\r\n\tvar result = [],\r\n\t\tindices = [],\r\n\t\tlevels = [result]\r\n\r\n\theadingLst.forEach(o => {\r\n\t\tvar index = indices.findIndex(level => level >= o.level);\r\n\t\tif (index === -1) {\r\n\t\t\tindex = indices.push(o.level) - 1;\r\n\t\t} else {\r\n\t\t\tindices.length = index + 1;\r\n\t\t}\r\n\t\tlevels[index].push(Object.assign({}, o, { children: levels[index + 1] = [] }));\r\n\t});\r\n\r\n\r\n\treturn result;\r\n};\r\n\r\nconst useNavHeight = () => {\r\n\tconst [navHeight, setNavHeight] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst navbar = document.getElementById(\"main-navbar\");\r\n\t\tconsole.log(navbar)\r\n\r\n\t\tsetNavHeight(navbar.offsetHeight);\r\n\t}, []);\r\n\r\n\treturn { navHeight };\r\n}\r\n\r\nconst TableOfContents = ({ title }) => {\r\n\tconst { nestedHeadings } = useHeadingsData();\r\n\tconst { navHeight } = useNavHeight();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Breadcrumb style={{paddingBottom: \"14px\", position: \"sticky\"}}\r\n\t\t\t\titems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: <a href=\"#home\">Portfolio</a>,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: <a href=\"#projects\">Projects</a>,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: `${title}`\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t\t<Anchor\r\n\t\t\t\tstyle={{maxHeight: \"85vh\", overflow: \"auto\"}}\r\n\t\t\t\ttargetOffset={navHeight}\r\n\t\t\t\tonClick={(e, l) => {\r\n\t\t\t\t\t// I have no idea why this works in hash router link... but sure\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}}\r\n\t\t\t\titems={nestedHeadings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TableOfContents","import FadeIn from 'react-fade-in';\r\nimport HomeTemplate from './homeTemplate';\r\nimport TableOfContents from './tableofcontents';\r\nimport { Row, Col, Grid } from 'antd';\r\nconst { useBreakpoint } = Grid\r\n\r\nconst ProjectPage = ({title, thumb, projectLink, projectRoute, githubURL, footer, children}) => {\r\n    const screens = useBreakpoint();\r\n\r\n    return (\r\n    \r\n        <>\r\n        <FadeIn>\r\n            <HomeTemplate \r\n                title={title} \r\n                thumb={thumb} \r\n                projectRoute={projectRoute} \r\n                projectLink={projectLink} \r\n                githubURL={githubURL} />\r\n            <Row gutter={0}>\r\n            <Col xs={0} lg={5}>\r\n            <div className='project-toc-wrapper'>\r\n                <TableOfContents title={title}/> \r\n            </div>\r\n            </Col>\r\n            <Col xs={24} lg={19}>\r\n            <div className=\"project-content-wrapper\" style={{marginRight: screens.lg? \"17.5vw\" : \"6vw\", marginLeft: screens.lg? 0 : \"6vw\"}}>\r\n                {children}\r\n            </div>\r\n            <div className='project-footer-wrapper' style={{\r\n                display: \"flex\", justifyContent: \"center\", \r\n                marginTop: \"8vh\", marginBottom: \"5vh\",\r\n                marginRight: screens.lg? \"17.5vw\" : \"6vw\", marginLeft: screens.lg? 0 : \"6vw\"\r\n                }}>\r\n                {footer ? {footer} : \"❋ That's all! Thanks for reading. ❋\"}\r\n            </div>\r\n            </Col>\r\n            </Row>\r\n        </FadeIn>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProjectPage;","export default __webpack_public_path__ + \"static/media/sines.9909c1c6.png\";","export default __webpack_public_path__ + \"static/media/hkt.f5629c70.png\";","export default __webpack_public_path__ + \"static/media/butterfly.364e84a8.png\";","export default __webpack_public_path__ + \"static/media/normals.eb859e83.png\";","export default __webpack_public_path__ + \"static/media/waves.014cf107.mp4\";","import React from 'react';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport { Row, Col, Divider, Image } from 'antd';\r\n\r\nimport waves from '../../content/projects/FFTOcean/waves.mp4'\r\nimport sines from '../../content/projects/FFTOcean/sines.png'\r\nimport hkt from '../../content/projects/FFTOcean/hkt.png'\r\nimport butterfly from '../../content/projects/FFTOcean/butterfly.png'\r\nimport normals from '../../content/projects/FFTOcean/normals.png'\r\n\r\nimport 'katex/dist/katex.min.css'\r\nimport Latex from 'react-latex-next';\r\n\r\nimport Meta from '.';\r\nimport ProjectPage from '../projectPage';\r\n\r\nconst Home = () => {\r\n    return (\r\n    \r\n        <ProjectPage title={Meta.title} thumb={Meta.thumb} projectLink=\"https://skittss.github.io/FFTOcean/\" githubURL=\"https://github.com/Skittss/FFTOcean\">\r\n            <h1 id=\"overview\" className=\"raleway-title\">\r\n                Overview\r\n            </h1>\r\n            <div style={{paddingBottom: \"20px\", textAlign: \"center\"}}>\r\n                <video style={{objectFit: \"cover\", width: \"100%\"}}  autoPlay loop muted>\r\n                    <source src={waves} type='video/mp4' />\r\n                </video>\r\n            </div>\r\n\r\n            <p>\r\n                Realistic looking water surfaces are not trivial to simulate; Instead we can make approximations of the\r\n                behaviour of real water to make convincing looking geometry. In this project I implement stylized ocean\r\n                geometry and shaders on a GPU with WebGL (via Three.js).\r\n                <br /><br />\r\n                Using the fast Fourier transform (FFT), the computational cost of creating complex wave-like behaviour can be greatly reduced. This is\r\n                the focus of this project.\r\n            </p>\r\n            <br />\r\n            <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            <h1 id=\"gerstner\" className=\"raleway-title\">\r\n                Gerstner Waves\r\n            </h1>\r\n            <p>\r\n                To kick things off, how do we approach modelling a wave surface? At a simplified level, we may think of waves as being some periodic oscillation of a body of water.\r\n                This is quite an old observation - first formally noted by physicist František Josef Gerstner hundreds of years ago. In mathematical terms, this means a wave surface can be\r\n                approximated by making each point on the surface move in circular motion, or in other words, as a sinusoid.\r\n            </p>\r\n            <div style={{paddingBottom: \"20px\", textAlign: \"center\"}}>\r\n                <Image src={sines} fallback=\"Gerstner Waves Example\"/>\r\n                <p style={{fontSize: \"0.75em\"}}><i>(Example of Gerstner waves for a 2D surface - courtesy of <a href=\"https://catlikecoding.com/unity/tutorials/flow/waves/\" target=\"_blank\">Jasper Flick</a>) </i></p>\r\n            </div>\r\n            <p>\r\n                Note that this model encapsulates not only vertical movement of the surface, but also horizontal movement as well. This is a key observation that lets us build more\r\n                complex models.\r\n            </p>\r\n\r\n            <br />\r\n            <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            <h1 id=\"displacement\" className=\"raleway-title\">\r\n                Calculating Displacement Maps\r\n            </h1>\r\n            <p>\r\n                <a href=\"https://www.researchgate.net/publication/264839743_Simulating_Ocean_Water\">Jerry Tessendorf</a> outlined a much more complex model that builds upon the observations\r\n                of Gerstner waves. In essence, we layer many waves (sinusoids) on top of one another, all of differing directions and frequencies, to create a detailed surface.\r\n                <br /><br />\r\n                We can think about this mathematically by first starting in the frequency domain of the waves - this way we can model how the frequencies of waves change over time according\r\n                to physics, then compute an IFFT of the frequencies to transform them into the spacial domain, i.e. the waves we see.\r\n                <br /><br />\r\n                Tessendorf describes this mathematically:\r\n                <br /><br />\r\n                <div style={{paddingLeft: \"3em\", paddingRight: \"3em\", textAlign: \"center\"}}>\r\n                    <Latex>{'$\\\\large\\\\displaystyle h(x,t)=\\\\sum_k\\\\tilde h(k,t)e^{ik\\\\cdot x}$'}</Latex>\r\n                </div>\r\n                <br />\r\n                Note that <Latex>{'$k$'}</Latex> and <Latex>{'$x$'}</Latex> denote two-dimensional vectors.\r\n                <br /><br />\r\n                <Latex>{'$h(x,t)$'}</Latex> denotes the displacement of the wave surface at point <Latex>{'$x$'}</Latex> at time <Latex>{'$t$'}</Latex>. We are working with\r\n                sinusoids, so this is a periodic function, hence the need for a time parameter. We must also note that we need to encapsulate displacement in all 3 primary axes, like horizontal\r\n                displacement in Gerstner waves, thus this is specifically <i>displacement along an axis</i>. We will end up calculating <Latex>{'$h(x,t)$'}</Latex> for all 3 axes.\r\n                <br /><br />\r\n                <Latex>{'$\\\\tilde h(k,t)e^{ik\\\\cdot x}$'}</Latex> represents the waves in the frequency domain. <Latex>{'$e^{ik\\\\cdot x}$'}</Latex> represents the frequency components of the waves as\r\n                sinusoids. We can see this from Euler's formula: <Latex>{'$e^{i\\\\theta}=\\\\cos\\\\theta + i\\\\sin\\\\theta$'}</Latex>. Using complex numbers here simply lets us easily represent lots of sinusoids.\r\n                Also note that <Latex>{'$k\\\\cdot x$'}</Latex> tells us the contribution of the sinusoids to the wave at the point <Latex>{'$x$'}</Latex> based on the direction that the waves propagate in, <Latex>{'$k$'}</Latex>,\r\n                called <i>wind direction</i>.\r\n                <br /><br />\r\n                Note that we shift the time parameter into the amplitudes of the frequencies, i.e. <Latex>{'$\\\\tilde h(k,t)$'}</Latex>, instead of making the sinusoids themselves dependent on <Latex>{'$t$'}</Latex>.\r\n                This makes the expression easy to calculate an IFFT for, which is where the summation comes in.\r\n                <br /><br />\r\n                Lastly, <Latex>{'$\\\\tilde h(k,t)$'}</Latex> is calculated by generating an initial spectrum of complex amplitudes denoted by <Latex>{'$\\\\tilde h_0(k)$'}</Latex> by sampling from a\r\n                Gaussian random distribution (In code this can be done with a <i>box-muller transform</i>), sampling from a <i>Phillip's spectrum</i> and updating it based on \r\n                a <i>dispersion relation</i> <Latex>{'$\\\\omega$'}</Latex> based on physics principles. More details about this can be found in <a href=\"https://www.researchgate.net/publication/264839743_Simulating_Ocean_Water\">Tessendorf's paper.</a>\r\n            </p>\r\n            <div style={{paddingBottom: \"20px\", textAlign: \"center\", width: \"100%\", maxWidth: \"800px\", margin: \"0 auto\"}}>\r\n                <Image src={hkt} fallback=\"Process of calculating h(x,t)\"/>\r\n                <p style={{fontSize: \"0.75em\"}}><i>Process of calculating <Latex>{'$h(x,t)$'}</Latex> - note complex numbers are stored in both the red and green channels. </i></p>\r\n            </div>\r\n            <br />\r\n            <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            <h1 id=\"ifft\" className=\"raleway-title\">\r\n                IFFT on a GPU\r\n            </h1>\r\n            <p>\r\n                The next step is calculating the IFFT for the above expression. A naive IDFT would be too slow considering the wave surface consists of many points. Even a CPU-bound\r\n                IFFT leaves performance on the table. Computing the IFFT on the GPU is the fastest way to do this calculation in this case.\r\n                <br /><br />\r\n                The way we approach this is by precomputing values of the FFT into a <i>'butterfly texture'</i> for each step of the FFT. You can observe this with the structure of the\r\n                texture resembling the 'splitting' nature of a Cooley-Tukey FFT. We then invert the FFT using a method outlined by <a href=\"https://doi.org/10.15480/882.1436\">FJ-Flugge</a>, overall\r\n                performing an IFFT2 after both a horizontal and vertical pass. Thus we can calculate the displacement along each primary axis to create our wave surface geometry.\r\n            </p>\r\n            <div style={{paddingBottom: \"20px\",textAlign: \"center\", width: \"25%\", minWidth: \"300px\", margin: \"0 auto\"}}>\r\n                <Image src={butterfly} fallback=\"Example butterfly texture\"/>\r\n                <p style={{fontSize: \"0.75em\"}}><i>Example butterfly texture. Note that this is stretched along the x-axis - the texture has dimensions <Latex>{'$\\\\log N \\\\times N$'}</Latex></i></p>\r\n            </div>\r\n            <br />\r\n            <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            <h1 id=\"lighting\" className=\"raleway-title\">\r\n                Lighting and Fog\r\n            </h1>\r\n            <p>\r\n                After generating the displacements of the wave surface and applying them to a plane (via a vertex shader), the surface must be able to react to light so that the displacement can be seen from oblique\r\n                viewing angles.\r\n                <br /><br /> \r\n                A computationally cheaper abridgement of the Phong Lighting model, the Blinn-Phong lighting model makes this fairly simple. We calculate normal vectors per vertex of the geometry\r\n                by averaging normal vectors for two neighbouring triangle surfaces. We then use the normals to calculate how light bounces into the camera, which affects shadows (diffuse lighting)\r\n                and specular highlights.\r\n            </p>\r\n            <div style={{paddingBottom: \"20px\",textAlign: \"center\", width: \"100%\", margin: \"0 auto\"}}>\r\n                <Image src={normals} fallback=\"Normals for wave surface\"/>\r\n                <p style={{fontSize: \"0.75em\"}}><i>Visualised normals for wave surface (low resolution as calculated per-fragment for sake of visualization)</i></p>\r\n            </div>\r\n            <p>\r\n                A final touch is to add a sense of depth to the surface; we can remove detail at far distances with per-vertex 'fog' to avoid cluttering the image. We simply calculate\r\n                the distance of each vertex from the camera and divide it through by the maximum fog distance (i.e. where fog is at a maximum) to get a 'fog amount'. This value can then\r\n                be used to linearly interpolate between the colour of the wave surface (+ lighting) and a specified fog colour, reducing the effects of shadow & specular highlights at far\r\n                distances.\r\n            </p>\r\n            <br />\r\n            <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            <h1 id=\"improvements\" className=\"raleway-title\">\r\n                Improvements\r\n            </h1>\r\n            <p>\r\n                Below is a list of potential improvements that could be made to this project given some extra time:\r\n            </p>\r\n            <div style={{paddingLeft: \"2vw\", paddingRight: \"2vw\"}}>\r\n                    <Row style={{display: \"flex\", paddingBottom: \"10px\"}}>\r\n                        <Col ><b>1. </b> &nbsp;&nbsp;&nbsp;</Col>\r\n                        <Col flex=\"1vw\">\r\n                            The FFT implementation using the butterfly texture would really benefit from having the full capabilities of a compute shader - in Three.js we are limited\r\n                            to using the <i>GPUComputationRenderer</i> class to imitate the behaviour. Being able to read from another input buffer for the bit reversed indices needed\r\n                            for Cooley-Tukey FFT would be particularly useful. \r\n                            The <a href=\"https://www.microsoft.com/en-us/research/publication/fast-computation-of-general-fourier-transforms-on-gpus/\">Stockham formation</a> of \r\n                            an FFT would probably be better suited for a WebGL implementation, though the inversion code would have to be changed.\r\n                        </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    <Row style={{display: \"flex\"}}>\r\n                        <Col ><b>2. </b> &nbsp;&nbsp;&nbsp;</Col>\r\n                        <Col flex=\"1vw\">\r\n                            Patches of ocean could be properly tesselated together to eliminate some slightly visible seams in the scene. Alternatively, mesh-instancing could be\r\n                            explored to reduce the performance hit of rendering separate meshes for each patch.\r\n                        </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    <Row style={{display: \"flex\"}}>\r\n                        <Col ><b>3. </b> &nbsp;&nbsp;&nbsp;</Col>\r\n                        <Col flex=\"1vw\">\r\n                            More accurate surface normals could be calculated via a method outlined in <a href=\"https://www.researchgate.net/publication/264839743_Simulating_Ocean_Water\">Tessendorf's paper.</a>\r\n                        </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    <Row style={{display: \"flex\"}}>\r\n                        <Col ><b>4. </b> &nbsp;&nbsp;&nbsp;</Col>\r\n                        <Col flex=\"1vw\">\r\n                            Wave choppiness could be more finely tuned and some foam could be added atop the most choppy parts of waves.\r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n        </ProjectPage>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}