{"version":3,"sources":["projects/homeTemplate.jsx","content/projects/FourierSketcher/referenceImg.png","content/projects/FourierSketcher/example.gif","content/projects/FourierSketcher/etienneJacob.mp4","content/projects/FourierSketcher/pointSequencing.png","projects/FourierSketcher/home.jsx"],"names":["HomeTemplate","title","githubURL","projectRoute","projectLink","loc","useLocation","pathname","className","name","id","style","display","padding","undefined","placement","href","target","fontSize","to","borderTopWidth","borderTopColor","opacity","Home","Meta","paddingLeft","paddingRight","smooth","paddingBottom","textAlign","src","referenceImg","height","fallback","exampleImg","pointSequencing","autoPlay","loop","muted","etienneJacob","type"],"mappings":"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","file":"static/js/15.7de4d09d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Divider, Tooltip } from 'antd';\r\nimport { GithubOutlined, SendOutlined } from '@ant-design/icons';\r\n\r\nconst HomeTemplate = ({title, githubURL, projectRoute, projectLink}) => {\r\n    const loc = useLocation().pathname;\r\n    return (\r\n        <div className=\"project-home-wrapper\">\r\n            <header className=\"home-header\">\r\n                <a name=\"top\" />\r\n                <h1 id=\"title\" style={{display: 'inline-block'}}>{title}</h1>\r\n                <span style={{padding: \"0 1em\", display: 'inline-block'}}>\r\n                    {githubURL != undefined ? (\r\n                        <Tooltip title=\"View on Github\" placement=\"bottom\">\r\n                            <a href={githubURL} target=\"_blank\">\r\n                                <GithubOutlined style={{fontSize: \"40px\", padding: \"0 0.2em\"}}/>\r\n                            </a>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                    {projectRoute != undefined  ? (\r\n                        <Tooltip title=\"View project\" placement=\"bottom\">\r\n                            <Link to={loc + projectRoute}>\r\n                                <SendOutlined style={{fontSize: \"40px\", padding: \"0 0.2em\"}}/>\r\n                            </Link>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                    {projectLink != undefined  ? (\r\n                        <Tooltip title=\"View project\" placement=\"bottom\">\r\n                            <a href={projectLink} target=\"_blank\">\r\n                                <SendOutlined style={{fontSize: \"40px\", padding: \"0 0.2em\"}}/>\r\n                            </a>\r\n                        </Tooltip>\r\n                    ) : null}\r\n\r\n                </span>\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n            </header>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomeTemplate;","export default __webpack_public_path__ + \"static/media/referenceImg.33a166e7.png\";","export default __webpack_public_path__ + \"static/media/example.210397cc.gif\";","export default __webpack_public_path__ + \"static/media/etienneJacob.fe6550df.mp4\";","export default __webpack_public_path__ + \"static/media/pointSequencing.521b9106.png\";","import React from 'react';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport { Row, Col, Divider, Image } from 'antd';\r\nimport FadeIn from 'react-fade-in';\r\nimport HomeTemplate from '../homeTemplate';\r\n\r\nimport referenceImg from '../../content/projects/FourierSketcher/referenceImg.png'\r\nimport exampleImg from '../../content/projects/FourierSketcher/example.gif'\r\nimport etienneJacob from '../../content/projects/FourierSketcher/etienneJacob.mp4'\r\nimport pointSequencing from '../../content/projects/FourierSketcher/pointSequencing.png'\r\n\r\nimport 'katex/dist/katex.min.css'\r\nimport Latex from 'react-latex-next';\r\n\r\nimport Meta from '.';\r\n\r\nconst Home = () => {\r\n\r\n    return (\r\n    \r\n        <>\r\n        <FadeIn>\r\n            <HomeTemplate title={Meta.title} projectLink=\"https://skittss.github.io/FourierSketcher/\" githubURL=\"https://github.com/Skittss/FourierSketcher\"></HomeTemplate>\r\n            <div className=\"project-content-wrapper\">\r\n                <h1 className=\"raleway-title\">\r\n                    Contents\r\n                </h1>\r\n                <p style={{paddingLeft: \"3em\", paddingRight: \"3em\"}}>\r\n                    <HashLink smooth to=\"#overview\"><b>Overview</b></HashLink><br />\r\n                    <HashLink smooth to=\"#how-to-use\"><b>How to use</b></HashLink><br />\r\n                    <HashLink smooth to=\"#edge-detection\"><b>Edge Detection & Point Sequencing</b></HashLink><br />\r\n                    <HashLink smooth to=\"#fourier-transform\"><b>Fourier Transform Computation</b></HashLink><br />\r\n                    <HashLink smooth to=\"#extensions\"><b>Potential Extensions</b></HashLink><br />\r\n                    <br />\r\n                </p>\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n                <h1 id=\"overview\" className=\"raleway-title\">\r\n                    Overview\r\n                </h1>\r\n                <div style={{paddingBottom: \"20px\", textAlign: \"center\"}}>\r\n                    <span>\r\n                    <Image src={referenceImg} style={{height: \"450px\"}} fallback=\"Reference image\"/>\r\n                    <Image src={exampleImg} style={{height: \"450px\"}} fallback=\"Output fourier sketch\"/>\r\n                    </span>\r\n                    <p style={{fontSize: \"0.75em\"}}><i>(Output sketch for example image.) </i></p>\r\n                </div>\r\n                <p>\r\n                    Fourier Sketcher is a prototype project which takes an input image, converts it to edges, then redraws them using epicycles calculated from a fourier transform.\r\n                </p>\r\n                <br />\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n                <h1 id=\"how-to-use\" className=\"raleway-title\">\r\n                    How to use\r\n                </h1>\r\n                <p>\r\n                    Since this is a prototype (and quite messy!), it might not be immediately obvious how to produce a result similar to the one shown above.\r\n                    <br /><br />\r\n                    Firstly, load an image with the button next to \"Input image\". Allow some time for the image to be loaded and processed by the edge detector once. The parameters for the edge detection algorithm\r\n                    can be changed with their respective sliders. I would avoid the \"Process continually\" and \"Process on parameter change\" checkboxes unless the input image is fairly small. \r\n                    <br /><br />\r\n                    The \"Sample Frequency\" slider will determine the the number of inputs to be used for the fourier transform later on. This is by far the largest performance bottleneck of the program, so allow potentially a long time for processing.\r\n                    (details as to why are under <HashLink smooth to=\"#edge-detection\">point sequencing</HashLink>). For the most accurate-to-form sketch, slide this all the way to the right.\r\n                    <br /><br />\r\n                    To view any changes to the edge detector output, click \"Process Once\". (Allow time for computation)\r\n                    <br /><br />\r\n                    To then begin sketching, click \"Compute\" under \"Fourier Sketching Settings\". Again, this can take some time. Once finished, the parameter sliders can be adjusted to make changes to the sketch in real-time without having \r\n                    to recompute anything.\r\n                    <br /><br />\r\n                    And voil√†, the image will begin drawing with epicycles!\r\n                </p>\r\n                <br />\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n                <h1 id=\"edge-detection\" className=\"raleway-title\">\r\n                    Edge detection & Point sequencing\r\n                </h1>\r\n                <p>\r\n                    Edge detection is used on the input image to gather sample points which can be used in the Fourier transform computation. Canny edge detection was used in this case to compute the edges. I won't go into the details\r\n                    of the process here as there is a much more thorough explanation of the process in a follow-up project of mine:&nbsp;\r\n                    <a href=\"https://skittss.github.io/PortfolioWebsite#/projects/Webgl-Canny\" target=\"_blank\">Web-GL Canny Edge Detection</a>.\r\n                    <br /><br />\r\n                    An additional step after the edges have been found is to order the points into a sequence based on their closest neighbour. This allows the path of the sketch to be as smooth as possible and mostly avoid large jumps.\r\n                    The final step of the process image shows the finished process - points of similar colour are in the same line segment:\r\n                    <br /><br />\r\n                    <div style={{textAlign: \"center\"}}>\r\n                        <Image src={pointSequencing}/>\r\n                    </div>\r\n                    <br />\r\n                    The issue with this, however, is that in a reasonably sized image, it is common to have tens of thousands, maybe even hundreds of thousands of points to do this for. Checking the distance to each other point naively would\r\n                    have an average time complexity of <Latex>{'$O({n^2})$'}</Latex> for the whole search operation - this is quite inefficient.\r\n                    <br /><br />\r\n                    This can be reduced by partitioning the samples in 2d space using a data structure - such as a k-d tree. This reduces the average time complexity to <Latex>{'$O(n\\\\log n)$'}</Latex> for the whole operation.\r\n                    You can find my implementation of a k-d tree in <a href=\"https://github.com/Skittss/FourierSketcher/blob/main/kdTree.js\" target=\"_blank\">kdTree.js</a>. Note this is specifically designed as a k-d tree for 2 dimensional space,\r\n                    and does not work at higher dimensions as any more is unnecessary for this problem. Using this data structure quite significantly reduces the total search time.\r\n                </p>\r\n                <br />\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n                <h1 id=\"fourier-transform\" className=\"raleway-title\">\r\n                    Fourier Transform Computation\r\n                </h1>\r\n                <p>\r\n                    To draw the sequence of samples using epicycles, they must be approximated in the frequency domain. This is because in order to construct a series of epicycles, we need a series of sinusoids which add up to the respective\r\n                    point. I.e. a series of magnitudes and phases as a function of <Latex>{'$f$'}</Latex>. This dual property of the frequency domain lends itself to the use of complex numbers - hence the complex fourier transform is used \r\n                    to perform the conversion. Similarly and conveniently, each sample can also be represented as a complex number as they also have dual properties: <Latex>{'$x\\\\mapsto re, \\\\ y\\\\mapsto im$'}</Latex>.\r\n                    <br /><br />\r\n                    Since we are working with discrete set of samples, the discrete Fourier transform must be used to calculate the coefficients for each epicycle:\r\n                    <br /><br />\r\n                    <div style={{paddingLeft: \"3em\", paddingRight: \"3em\", textAlign: \"center\"}}>\r\n                        <Latex>{'$\\\\displaystyle X_k=\\\\frac{1}{N}\\\\sum_{n=0}^{N-1}x_n\\\\cdot e^{-\\\\frac{2\\\\pi i}{N}kn} $'}</Latex>\r\n                    </div>\r\n                    <br />\r\n                    The implmentation of this can be found in <a href=\"https://github.com/Skittss/FourierSketcher/blob/main/fourier.js#L274\" target=\"_blank\">fourier.js</a>. Basic complex number arithmetic (including complex exponentials) is\r\n                    handled in <a href=\"https://github.com/Skittss/FourierSketcher/blob/main/complex.js\" target=\"_blank\">complex.js</a>\r\n                    <br /><br />\r\n                    We end up with a function of <Latex>{'$f(t)\\\\mapsto sample$'}</Latex> at <Latex>{'$k\\\\frac{2\\\\pi}{N},\\\\ k\\\\in\\\\Z$'}</Latex> intervals.\r\n                </p>\r\n                <br />\r\n                <Divider style={{borderTopWidth: \"1px\", borderTopColor: \"#000000\", opacity: 0.5}}/>\r\n                <h1 id=\"extensions\" className=\"raleway-title\">\r\n                    Potential Extensions\r\n                </h1>\r\n                Aside from UI and front-end improvements, one significant improvement that could be made to this prototype is an implementation of the fast Fourier transform (FFT). I wanted to implement the Fourier transfrom from scratch\r\n                to better understand the maths behind it, as such I implemented a more naive Fourier transform algorithm; one with time complexity <Latex>{'$O(n^2)$'}</Latex>. With FFT this could be improved to <Latex>{'$O(n\\\\log n)$'}</Latex>.\r\n                <br /><br />\r\n                An idea for an extension to this prototype would be to incorporate a form of looping noise filter to procedurally create loops following the edges of a specified image using interpolated points generated from the epicycles.\r\n                Inspired by the following art from&nbsp;\r\n                <a href=\"https://bleuje.github.io/\" target=\"_blank\">Etienne Jacob</a>:\r\n                <br /><br />\r\n                <div style={{textAlign: \"center\"}}>\r\n                <video autoPlay loop muted>\r\n                    <source src={etienneJacob} type='video/mp4' />\r\n                </video>\r\n                </div>\r\n            </div>\r\n        </FadeIn>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}